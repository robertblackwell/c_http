<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>http_in_c: /home/robert/Projects/http_in_c/http_in_c/async-old/connection_internal.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">http_in_c
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_06774630331b9c06955f65296197b4db.html">http_in_c</a></li><li class="navelem"><a class="el" href="dir_52822acd8b75806a236d8b6b9e13b510.html">async-old</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">connection_internal.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;http_in_c/async/async.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/epoll.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;rbl/macros.h&gt;</code><br />
<code>#include &lt;rbl/logger.h&gt;</code><br />
<code>#include &lt;<a class="el" href="http__message_8h_source.html">http_in_c/http_protocol/http_message.h</a>&gt;</code><br />
</div>
<p><a href="connection__internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4cd41692635d29d6b918c60b939e989d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a4cd41692635d29d6b918c60b939e989d">READ_STATE_IDLE</a>&#160;&#160;&#160;11</td></tr>
<tr class="separator:a4cd41692635d29d6b918c60b939e989d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab7631f0f0b8af85ee46002065ac569"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#acab7631f0f0b8af85ee46002065ac569">READ_STATE_INPUT_PENDING</a>&#160;&#160;&#160;51</td></tr>
<tr class="separator:acab7631f0f0b8af85ee46002065ac569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2c00bfd2065f4632f349e92f8f648c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#ade2c00bfd2065f4632f349e92f8f648c">READ_STATE_EAGAINED</a>&#160;&#160;&#160;12</td></tr>
<tr class="separator:ade2c00bfd2065f4632f349e92f8f648c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa929aa64da8db02d9ba4fc1f46ca0b68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#aa929aa64da8db02d9ba4fc1f46ca0b68">READ_STATE_ACTIVE</a>&#160;&#160;&#160;13</td></tr>
<tr class="separator:aa929aa64da8db02d9ba4fc1f46ca0b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e6b06f193d42ecfe4b361743690660"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a81e6b06f193d42ecfe4b361743690660">READ_STATE_ACTIVE_NEWMESSAGE</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a81e6b06f193d42ecfe4b361743690660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbb181b4fd70632c91f8784580c74b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a1cbb181b4fd70632c91f8784580c74b8">READ_STATE_STOP</a>&#160;&#160;&#160;14</td></tr>
<tr class="separator:a1cbb181b4fd70632c91f8784580c74b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8cdc2005ae9f490a995dd81676d0a55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#ab8cdc2005ae9f490a995dd81676d0a55">READ_STATE_POSTED_READER</a>&#160;&#160;&#160;15</td></tr>
<tr class="separator:ab8cdc2005ae9f490a995dd81676d0a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c04c5c911a5ab6b48fcf2708349503"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a72c04c5c911a5ab6b48fcf2708349503">WRITE_STATE_IDLE</a>&#160;&#160;&#160;21</td></tr>
<tr class="separator:a72c04c5c911a5ab6b48fcf2708349503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40718e79c913b5df744e5dd4350371a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a40718e79c913b5df744e5dd4350371a4">WRITE_STATE_EAGAINED</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:a40718e79c913b5df744e5dd4350371a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628be3c49e5a252556589975af9f1b55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a628be3c49e5a252556589975af9f1b55">WRITE_STATE_ACTIVE</a>&#160;&#160;&#160;23</td></tr>
<tr class="separator:a628be3c49e5a252556589975af9f1b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8d377e7713393273e892b5d65a8b8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a3f8d377e7713393273e892b5d65a8b8d">WRITE_STATE_STOP</a>&#160;&#160;&#160;24</td></tr>
<tr class="separator:a3f8d377e7713393273e892b5d65a8b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6a654d588540e161f46e6d39340ac3ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a6a654d588540e161f46e6d39340ac3ab">async_event_handler</a> (<a class="el" href="group__runloop.html#gac8e4f0c7c845c2f0b4198dffa7e772e7">RunloopStreamRef</a> stream_ref, uint64_t event)</td></tr>
<tr class="separator:a6a654d588540e161f46e6d39340ac3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d075a6bc7674f520a6b97261edd8616"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a6d075a6bc7674f520a6b97261edd8616">async_post_to_reactor</a> (<a class="el" href="async_8h.html#a1271587294661ca6b7386f293ba37794">AsyncConnectionRef</a> connection_ref, <a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>(*postable_function)(<a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a>, <a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *))</td></tr>
<tr class="separator:a6d075a6bc7674f520a6b97261edd8616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f97ef7d3350f57947dc0cc034cd832b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a7f97ef7d3350f57947dc0cc034cd832b">async_read_start</a> (<a class="el" href="async_8h.html#a1271587294661ca6b7386f293ba37794">AsyncConnectionRef</a> connection_ref)</td></tr>
<tr class="separator:a7f97ef7d3350f57947dc0cc034cd832b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11713347272b3554fc94c674da83fb72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a11713347272b3554fc94c674da83fb72">reader</a> (<a class="el" href="async_8h.html#a1271587294661ca6b7386f293ba37794">AsyncConnectionRef</a> cref)</td></tr>
<tr class="separator:a11713347272b3554fc94c674da83fb72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa86a4faf3bc60b4916d7f8f76858c214"><td class="memItemLeft" align="right" valign="top">llhttp_errno_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#aa86a4faf3bc60b4916d7f8f76858c214">async_on_read_message_complete</a> (http_parser_t *parser_ptr, MessageRef msg)</td></tr>
<tr class="separator:aa86a4faf3bc60b4916d7f8f76858c214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e303a4e598e28b475c0a5f0229ed7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a56e303a4e598e28b475c0a5f0229ed7d">async_postable_writer</a> (<a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a> reactor_ref, <a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *arg)</td></tr>
<tr class="separator:a56e303a4e598e28b475c0a5f0229ed7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45e6cc8fdecacbc572b373040ac97cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#ad45e6cc8fdecacbc572b373040ac97cb">async_postable_write_call_cb</a> (<a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a> reactor_ref, <a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *arg)</td></tr>
<tr class="separator:ad45e6cc8fdecacbc572b373040ac97cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f9ff3e1ff51cd2da53d77f15c668c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#ad8f9ff3e1ff51cd2da53d77f15c668c9">async_postable_cleanup</a> (<a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a> reactor, <a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *cref)</td></tr>
<tr class="separator:ad8f9ff3e1ff51cd2da53d77f15c668c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae990c939a6f388c5232e30a6a35e2ac1"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#ae990c939a6f388c5232e30a6a35e2ac1">async_read_state_str</a> (int <a class="el" href="url__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>)</td></tr>
<tr class="separator:ae990c939a6f388c5232e30a6a35e2ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2611dde026db0ea0993459acecfa0147"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a2611dde026db0ea0993459acecfa0147">async_write_state_str</a> (int <a class="el" href="url__parser_8c.html#adc6e5733fc3c22f0a7b2914188c49c90">state</a>)</td></tr>
<tr class="separator:a2611dde026db0ea0993459acecfa0147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1842a8830b40fe7c8cd0deb33bed2669"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a1842a8830b40fe7c8cd0deb33bed2669">async_epoll_event_str</a> (int event)</td></tr>
<tr class="separator:a1842a8830b40fe7c8cd0deb33bed2669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936c6cf310f8dc79356136d6172a9b97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#a936c6cf310f8dc79356136d6172a9b97">write_epollout</a> (<a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a> rl, <a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *connection_ref_arg)</td></tr>
<tr class="separator:a936c6cf310f8dc79356136d6172a9b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e0acbdf523734b3c2ff9b79307f29c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="connection__internal_8h.html#ac8e0acbdf523734b3c2ff9b79307f29c">read_epollin</a> (<a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a> rl, <a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *connection_ref_arg)</td></tr>
<tr class="separator:ac8e0acbdf523734b3c2ff9b79307f29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa929aa64da8db02d9ba4fc1f46ca0b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa929aa64da8db02d9ba4fc1f46ca0b68">&#9670;&nbsp;</a></span>READ_STATE_ACTIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_STATE_ACTIVE&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A read sequence has been started but has not yet completed a full message. The function <a class="el" href="connection__internal_8h.html#a11713347272b3554fc94c674da83fb72">reader()</a> will set the read state to ACTIVE to signify a read sequence is started. The on_message_complete() function will set the state to IDLE (or add the message to the input queue so that the input queue is NOT empty - need to decide on this signalling mechanism) to signify another message has been received and has been added to the input list.</p>
<p>The readers callback should be posted with the input message and the input queue should then be empty</p>
<p>A precondition for moving to this state is that the inpt queue is empty.</p>
<p>Should not start a read while unprocessed input messages are on the input-queue </p>

</div>
</div>
<a id="a81e6b06f193d42ecfe4b361743690660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81e6b06f193d42ecfe4b361743690660">&#9670;&nbsp;</a></span>READ_STATE_ACTIVE_NEWMESSAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_STATE_ACTIVE_NEWMESSAGE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This state indicates that a read sequence is active and that the function on_message_complete() has detected a new message and added it to the input queue.</p>
<p>This state is equivalent so READ_STATE_ACTIVE &amp;&amp; (is_empty_input_queue != true) </p>

</div>
</div>
<a id="ade2c00bfd2065f4632f349e92f8f648c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade2c00bfd2065f4632f349e92f8f648c">&#9670;&nbsp;</a></span>READ_STATE_EAGAINED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_STATE_EAGAINED&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A read got errno == EAGAIN and have not yet recieved a subsequent POLLIN from epoll. The errno == EAGAIN may be:</p><ul>
<li>nread &gt; 0 and errno == EAGAIN - which means a partial read but there is no more</li>
<li>nread &lt; 0 and errno == EAGAIN - means there was nothing to read</li>
<li>nread == 0 is reserved for when peer closes the socket</li>
</ul>
<p>This state implies a read is in progress. As only get to this state if a read gets EAGAIN and a message did not complete.</p>
<p>Hence nread &gt; 0 &amp;&amp; errno == EAGAIN and message completed which is the same as input queue not empty should cause the pending read to be satisfied (via posting the read callback so that it runs later) and the state to be ACTIVE</p>
<p>Conditon - after sending the message to the readers callback the inputqueue should be empty.</p>
<p>We should only have one message in the queue at a time</p>
<p>Hence it is illegal to issue/accept a call to <a class="el" href="async_8h.html#ae81243f4984043fec511b96b2c939a0d">async_connection_read()</a> in this state. </p>

</div>
</div>
<a id="a4cd41692635d29d6b918c60b939e989d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd41692635d29d6b918c60b939e989d">&#9670;&nbsp;</a></span>READ_STATE_IDLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_STATE_IDLE&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Means that there is probably data available to read (that is not definitely EAGAIN) on the socket but a read has not yet be initiated.</p>
<p>Input queue is empty.</p>
<p>It is legal to issue/accept a call to <a class="el" href="async_8h.html#ae81243f4984043fec511b96b2c939a0d">async_connection_read()</a> in this state, and such a call will initiate a new read sequence. </p>

</div>
</div>
<a id="acab7631f0f0b8af85ee46002065ac569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab7631f0f0b8af85ee46002065ac569">&#9670;&nbsp;</a></span>READ_STATE_INPUT_PENDING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_STATE_INPUT_PENDING&#160;&#160;&#160;51</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Like IDLE except that the input queue is NOT empty. It is legal to issue/accept <a class="el" href="async_8h.html#ae81243f4984043fec511b96b2c939a0d">async_connection_read()</a> and it will return (via callback) a message from the input queue.</p>
<p>Should never get to this state </p>

</div>
</div>
<a id="ab8cdc2005ae9f490a995dd81676d0a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8cdc2005ae9f490a995dd81676d0a55">&#9670;&nbsp;</a></span>READ_STATE_POSTED_READER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_STATE_POSTED_READER&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1cbb181b4fd70632c91f8784580c74b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cbb181b4fd70632c91f8784580c74b8">&#9670;&nbsp;</a></span>READ_STATE_STOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define READ_STATE_STOP&#160;&#160;&#160;14</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signifies the socket is no longer available. Either:</p><ul>
<li>nread == 0 - the peer closed the connection or</li>
<li>nread &lt; 0 and errno != EAGAIN signifies an IO error</li>
<li>return code from http_parser_consume() is not HPE_OK </li>
</ul>

</div>
</div>
<a id="a628be3c49e5a252556589975af9f1b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a628be3c49e5a252556589975af9f1b55">&#9670;&nbsp;</a></span>WRITE_STATE_ACTIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_STATE_ACTIVE&#160;&#160;&#160;23</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a40718e79c913b5df744e5dd4350371a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40718e79c913b5df744e5dd4350371a4">&#9670;&nbsp;</a></span>WRITE_STATE_EAGAINED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_STATE_EAGAINED&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a72c04c5c911a5ab6b48fcf2708349503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c04c5c911a5ab6b48fcf2708349503">&#9670;&nbsp;</a></span>WRITE_STATE_IDLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_STATE_IDLE&#160;&#160;&#160;21</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f8d377e7713393273e892b5d65a8b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f8d377e7713393273e892b5d65a8b8d">&#9670;&nbsp;</a></span>WRITE_STATE_STOP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WRITE_STATE_STOP&#160;&#160;&#160;24</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1842a8830b40fe7c8cd0deb33bed2669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1842a8830b40fe7c8cd0deb33bed2669">&#9670;&nbsp;</a></span>async_epoll_event_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* async_epoll_event_str </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a654d588540e161f46e6d39340ac3ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a654d588540e161f46e6d39340ac3ab">&#9670;&nbsp;</a></span>async_event_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> async_event_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__runloop.html#gac8e4f0c7c845c2f0b4198dffa7e772e7">RunloopStreamRef</a>&#160;</td>
          <td class="paramname"><em>stream_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa86a4faf3bc60b4916d7f8f76858c214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa86a4faf3bc60b4916d7f8f76858c214">&#9670;&nbsp;</a></span>async_on_read_message_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llhttp_errno_t async_on_read_message_complete </td>
          <td>(</td>
          <td class="paramtype">http_parser_t *&#160;</td>
          <td class="paramname"><em>parser_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MessageRef&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d075a6bc7674f520a6b97261edd8616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d075a6bc7674f520a6b97261edd8616">&#9670;&nbsp;</a></span>async_post_to_reactor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> async_post_to_reactor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="async_8h.html#a1271587294661ca6b7386f293ba37794">AsyncConnectionRef</a>&#160;</td>
          <td class="paramname"><em>connection_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a>(*)(<a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a>, <a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *)&#160;</td>
          <td class="paramname"><em>postable_function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad8f9ff3e1ff51cd2da53d77f15c668c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f9ff3e1ff51cd2da53d77f15c668c9">&#9670;&nbsp;</a></span>async_postable_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> async_postable_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a>&#160;</td>
          <td class="paramname"><em>reactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *&#160;</td>
          <td class="paramname"><em>cref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This must be the last async connection function to run and it should only run once. </p>

</div>
</div>
<a id="ad45e6cc8fdecacbc572b373040ac97cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad45e6cc8fdecacbc572b373040ac97cb">&#9670;&nbsp;</a></span>async_postable_write_call_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> async_postable_write_call_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a>&#160;</td>
          <td class="paramname"><em>reactor_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a56e303a4e598e28b475c0a5f0229ed7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56e303a4e598e28b475c0a5f0229ed7d">&#9670;&nbsp;</a></span>async_postable_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> async_postable_writer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a>&#160;</td>
          <td class="paramname"><em>reactor_ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7f97ef7d3350f57947dc0cc034cd832b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f97ef7d3350f57947dc0cc034cd832b">&#9670;&nbsp;</a></span>async_read_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> async_read_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="async_8h.html#a1271587294661ca6b7386f293ba37794">AsyncConnectionRef</a>&#160;</td>
          <td class="paramname"><em>connection_ref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae990c939a6f388c5232e30a6a35e2ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae990c939a6f388c5232e30a6a35e2ac1">&#9670;&nbsp;</a></span>async_read_state_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* async_read_state_str </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2611dde026db0ea0993459acecfa0147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2611dde026db0ea0993459acecfa0147">&#9670;&nbsp;</a></span>async_write_state_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* async_write_state_str </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac8e0acbdf523734b3c2ff9b79307f29c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8e0acbdf523734b3c2ff9b79307f29c">&#9670;&nbsp;</a></span>read_epollin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> read_epollin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a>&#160;</td>
          <td class="paramname"><em>rl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *&#160;</td>
          <td class="paramname"><em>connection_ref_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a11713347272b3554fc94c674da83fb72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11713347272b3554fc94c674da83fb72">&#9670;&nbsp;</a></span>reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="async_8h.html#a1271587294661ca6b7386f293ba37794">AsyncConnectionRef</a>&#160;</td>
          <td class="paramname"><em>cref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a936c6cf310f8dc79356136d6172a9b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936c6cf310f8dc79356136d6172a9b97">&#9670;&nbsp;</a></span>write_epollout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> write_epollout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__runloop.html#ga3be36d97cf9a7f7b4180b71d95cde72e">RunloopRef</a>&#160;</td>
          <td class="paramname"><em>rl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rl__internal_8h.html#a691e4d5de4b427a20b12e6a256b5406e">void</a> *&#160;</td>
          <td class="paramname"><em>connection_ref_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
