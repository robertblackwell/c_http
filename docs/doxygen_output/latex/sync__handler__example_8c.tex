\hypertarget{sync__handler__example_8c}{}\doxysection{/home/robert/\+Projects/http\+\_\+in\+\_\+c/http\+\_\+in\+\_\+c/sync/sync\+\_\+handler\+\_\+example.c File Reference}
\label{sync__handler__example_8c}\index{/home/robert/Projects/http\_in\_c/http\_in\_c/sync/sync\_handler\_example.c@{/home/robert/Projects/http\_in\_c/http\_in\_c/sync/sync\_handler\_example.c}}
{\ttfamily \#include $<$http\+\_\+in\+\_\+c/sync/sync\+\_\+handler\+\_\+example.\+h$>$}\newline
{\ttfamily \#include $<$http\+\_\+in\+\_\+c/sync/sync.\+h$>$}\newline
{\ttfamily \#include $<$http\+\_\+in\+\_\+c/common/alloc.\+h$>$}\newline
{\ttfamily \#include $<$http\+\_\+in\+\_\+c/common/socket\+\_\+functions.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{group__group__bufferchain_gae2d3dfd004cca44551cbe6c2aaac2396}{Buffer\+Chain\+Ref}} \mbox{\hyperlink{sync__handler__example_8c_a9f7fcfe3aa3f7ff3dd258ce6ee3997da}{simple\+\_\+response\+\_\+body}} (char $\ast$message, \mbox{\hyperlink{socket__functions_8h_a9fc51c768239c2b2154e02ea796a6115}{socket\+\_\+handle\+\_\+t}} socket, int pthread\+\_\+self\+\_\+value)
\item 
static char $\ast$ \mbox{\hyperlink{sync__handler__example_8c_a48bcd85dca38ee333697cba6fbf246fd}{echo\+\_\+body}} (\mbox{\hyperlink{group__group__message_ga33b8e4c347991edbbe1d3d7d6f77c9a1}{Http\+Message\+Ref}} request)
\item 
static \mbox{\hyperlink{group__group__bufferchain_gae2d3dfd004cca44551cbe6c2aaac2396}{Buffer\+Chain\+Ref}} \mbox{\hyperlink{sync__handler__example_8c_ae963713f7db5c9dc82428890ea01bea4}{echo\+\_\+body\+\_\+buffer\+\_\+chain}} (\mbox{\hyperlink{group__group__message_ga33b8e4c347991edbbe1d3d7d6f77c9a1}{Http\+Message\+Ref}} request)
\item 
\mbox{\hyperlink{group__group__message_ga33b8e4c347991edbbe1d3d7d6f77c9a1}{Http\+Message\+Ref}} \mbox{\hyperlink{sync__handler__example_8c_a382820869db64cd32b293d8ca89c0ae7}{app\+\_\+handler\+\_\+example}} (\mbox{\hyperlink{group__group__message_ga33b8e4c347991edbbe1d3d7d6f77c9a1}{Http\+Message\+Ref}} request, \mbox{\hyperlink{sync_8h_a752ab692df8a861d059e73584677055e}{sync\+\_\+worker\+\_\+r}} wref)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sync__handler__example_8c_a382820869db64cd32b293d8ca89c0ae7}\label{sync__handler__example_8c_a382820869db64cd32b293d8ca89c0ae7}} 
\index{sync\_handler\_example.c@{sync\_handler\_example.c}!app\_handler\_example@{app\_handler\_example}}
\index{app\_handler\_example@{app\_handler\_example}!sync\_handler\_example.c@{sync\_handler\_example.c}}
\doxysubsubsection{\texorpdfstring{app\_handler\_example()}{app\_handler\_example()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group__group__message_ga33b8e4c347991edbbe1d3d7d6f77c9a1}{Http\+Message\+Ref}} app\+\_\+handler\+\_\+example (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__group__message_ga33b8e4c347991edbbe1d3d7d6f77c9a1}{Http\+Message\+Ref}}}]{request,  }\item[{\mbox{\hyperlink{sync_8h_a752ab692df8a861d059e73584677055e}{sync\+\_\+worker\+\_\+r}}}]{wref }\end{DoxyParamCaption})}

find the echo-\/id header in the request and put it in the response headers\mbox{\Hypertarget{sync__handler__example_8c_a48bcd85dca38ee333697cba6fbf246fd}\label{sync__handler__example_8c_a48bcd85dca38ee333697cba6fbf246fd}} 
\index{sync\_handler\_example.c@{sync\_handler\_example.c}!echo\_body@{echo\_body}}
\index{echo\_body@{echo\_body}!sync\_handler\_example.c@{sync\_handler\_example.c}}
\doxysubsubsection{\texorpdfstring{echo\_body()}{echo\_body()}}
{\footnotesize\ttfamily static char$\ast$ echo\+\_\+body (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__group__message_ga33b8e4c347991edbbe1d3d7d6f77c9a1}{Http\+Message\+Ref}}}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Create the body of a response to an /echo request 
\begin{DoxyParams}{Parameters}
{\em request} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char$\ast$ ownership, and responsibility to free, transfers to the caller 
\end{DoxyReturn}
\mbox{\Hypertarget{sync__handler__example_8c_ae963713f7db5c9dc82428890ea01bea4}\label{sync__handler__example_8c_ae963713f7db5c9dc82428890ea01bea4}} 
\index{sync\_handler\_example.c@{sync\_handler\_example.c}!echo\_body\_buffer\_chain@{echo\_body\_buffer\_chain}}
\index{echo\_body\_buffer\_chain@{echo\_body\_buffer\_chain}!sync\_handler\_example.c@{sync\_handler\_example.c}}
\doxysubsubsection{\texorpdfstring{echo\_body\_buffer\_chain()}{echo\_body\_buffer\_chain()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{group__group__bufferchain_gae2d3dfd004cca44551cbe6c2aaac2396}{Buffer\+Chain\+Ref}} echo\+\_\+body\+\_\+buffer\+\_\+chain (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__group__message_ga33b8e4c347991edbbe1d3d7d6f77c9a1}{Http\+Message\+Ref}}}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{sync__handler__example_8c_a9f7fcfe3aa3f7ff3dd258ce6ee3997da}\label{sync__handler__example_8c_a9f7fcfe3aa3f7ff3dd258ce6ee3997da}} 
\index{sync\_handler\_example.c@{sync\_handler\_example.c}!simple\_response\_body@{simple\_response\_body}}
\index{simple\_response\_body@{simple\_response\_body}!sync\_handler\_example.c@{sync\_handler\_example.c}}
\doxysubsubsection{\texorpdfstring{simple\_response\_body()}{simple\_response\_body()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{group__group__bufferchain_gae2d3dfd004cca44551cbe6c2aaac2396}{Buffer\+Chain\+Ref}} simple\+\_\+response\+\_\+body (\begin{DoxyParamCaption}\item[{char $\ast$}]{message,  }\item[{\mbox{\hyperlink{socket__functions_8h_a9fc51c768239c2b2154e02ea796a6115}{socket\+\_\+handle\+\_\+t}}}]{socket,  }\item[{int}]{pthread\+\_\+self\+\_\+value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

