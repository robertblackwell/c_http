\hypertarget{connection__internal_8h}{}\doxysection{/home/robert/\+Projects/http\+\_\+in\+\_\+c/http\+\_\+in\+\_\+c/async-\/old/connection\+\_\+internal.h File Reference}
\label{connection__internal_8h}\index{/home/robert/Projects/http\_in\_c/http\_in\_c/async-\/old/connection\_internal.h@{/home/robert/Projects/http\_in\_c/http\_in\_c/async-\/old/connection\_internal.h}}
{\ttfamily \#include $<$http\+\_\+in\+\_\+c/async/async.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
{\ttfamily \#include $<$sys/epoll.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$rbl/macros.\+h$>$}\newline
{\ttfamily \#include $<$rbl/logger.\+h$>$}\newline
{\ttfamily \#include $<$http\+\_\+in\+\_\+c/http\+\_\+protocol/http\+\_\+message.\+h$>$}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{connection__internal_8h_a4cd41692635d29d6b918c60b939e989d}{READ\+\_\+\+STATE\+\_\+\+IDLE}}~11
\item 
\#define \mbox{\hyperlink{connection__internal_8h_acab7631f0f0b8af85ee46002065ac569}{READ\+\_\+\+STATE\+\_\+\+INPUT\+\_\+\+PENDING}}~51
\item 
\#define \mbox{\hyperlink{connection__internal_8h_ade2c00bfd2065f4632f349e92f8f648c}{READ\+\_\+\+STATE\+\_\+\+EAGAINED}}~12
\item 
\#define \mbox{\hyperlink{connection__internal_8h_aa929aa64da8db02d9ba4fc1f46ca0b68}{READ\+\_\+\+STATE\+\_\+\+ACTIVE}}~13
\item 
\#define \mbox{\hyperlink{connection__internal_8h_a81e6b06f193d42ecfe4b361743690660}{READ\+\_\+\+STATE\+\_\+\+ACTIVE\+\_\+\+NEWMESSAGE}}~16
\item 
\#define \mbox{\hyperlink{connection__internal_8h_a1cbb181b4fd70632c91f8784580c74b8}{READ\+\_\+\+STATE\+\_\+\+STOP}}~14
\item 
\#define \mbox{\hyperlink{connection__internal_8h_ab8cdc2005ae9f490a995dd81676d0a55}{READ\+\_\+\+STATE\+\_\+\+POSTED\+\_\+\+READER}}~15
\item 
\#define \mbox{\hyperlink{connection__internal_8h_a72c04c5c911a5ab6b48fcf2708349503}{WRITE\+\_\+\+STATE\+\_\+\+IDLE}}~21
\item 
\#define \mbox{\hyperlink{connection__internal_8h_a40718e79c913b5df744e5dd4350371a4}{WRITE\+\_\+\+STATE\+\_\+\+EAGAINED}}~22
\item 
\#define \mbox{\hyperlink{connection__internal_8h_a628be3c49e5a252556589975af9f1b55}{WRITE\+\_\+\+STATE\+\_\+\+ACTIVE}}~23
\item 
\#define \mbox{\hyperlink{connection__internal_8h_a3f8d377e7713393273e892b5d65a8b8d}{WRITE\+\_\+\+STATE\+\_\+\+STOP}}~24
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_a6a654d588540e161f46e6d39340ac3ab}{async\+\_\+event\+\_\+handler}} (\mbox{\hyperlink{group__runloop_gac8e4f0c7c845c2f0b4198dffa7e772e7}{Runloop\+Stream\+Ref}} stream\+\_\+ref, uint64\+\_\+t event)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_a6d075a6bc7674f520a6b97261edd8616}{async\+\_\+post\+\_\+to\+\_\+reactor}} (\mbox{\hyperlink{async_8h_a1271587294661ca6b7386f293ba37794}{Async\+Connection\+Ref}} connection\+\_\+ref, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}}($\ast$postable\+\_\+function)(\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$))
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_a7f97ef7d3350f57947dc0cc034cd832b}{async\+\_\+read\+\_\+start}} (\mbox{\hyperlink{async_8h_a1271587294661ca6b7386f293ba37794}{Async\+Connection\+Ref}} connection\+\_\+ref)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_a11713347272b3554fc94c674da83fb72}{reader}} (\mbox{\hyperlink{async_8h_a1271587294661ca6b7386f293ba37794}{Async\+Connection\+Ref}} cref)
\item 
llhttp\+\_\+errno\+\_\+t \mbox{\hyperlink{connection__internal_8h_aa86a4faf3bc60b4916d7f8f76858c214}{async\+\_\+on\+\_\+read\+\_\+message\+\_\+complete}} (http\+\_\+parser\+\_\+t $\ast$parser\+\_\+ptr, Message\+Ref msg)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_a56e303a4e598e28b475c0a5f0229ed7d}{async\+\_\+postable\+\_\+writer}} (\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} reactor\+\_\+ref, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$arg)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_ad45e6cc8fdecacbc572b373040ac97cb}{async\+\_\+postable\+\_\+write\+\_\+call\+\_\+cb}} (\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} reactor\+\_\+ref, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$arg)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_ad8f9ff3e1ff51cd2da53d77f15c668c9}{async\+\_\+postable\+\_\+cleanup}} (\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} reactor, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$cref)
\item 
const char $\ast$ \mbox{\hyperlink{connection__internal_8h_ae990c939a6f388c5232e30a6a35e2ac1}{async\+\_\+read\+\_\+state\+\_\+str}} (int \mbox{\hyperlink{url__parser_8c_adc6e5733fc3c22f0a7b2914188c49c90}{state}})
\item 
const char $\ast$ \mbox{\hyperlink{connection__internal_8h_a2611dde026db0ea0993459acecfa0147}{async\+\_\+write\+\_\+state\+\_\+str}} (int \mbox{\hyperlink{url__parser_8c_adc6e5733fc3c22f0a7b2914188c49c90}{state}})
\item 
const char $\ast$ \mbox{\hyperlink{connection__internal_8h_a1842a8830b40fe7c8cd0deb33bed2669}{async\+\_\+epoll\+\_\+event\+\_\+str}} (int event)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_a936c6cf310f8dc79356136d6172a9b97}{write\+\_\+epollout}} (\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} rl, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$connection\+\_\+ref\+\_\+arg)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{connection__internal_8h_ac8e0acbdf523734b3c2ff9b79307f29c}{read\+\_\+epollin}} (\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} rl, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$connection\+\_\+ref\+\_\+arg)
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{connection__internal_8h_aa929aa64da8db02d9ba4fc1f46ca0b68}\label{connection__internal_8h_aa929aa64da8db02d9ba4fc1f46ca0b68}} 
\index{connection\_internal.h@{connection\_internal.h}!READ\_STATE\_ACTIVE@{READ\_STATE\_ACTIVE}}
\index{READ\_STATE\_ACTIVE@{READ\_STATE\_ACTIVE}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{READ\_STATE\_ACTIVE}{READ\_STATE\_ACTIVE}}
{\footnotesize\ttfamily \#define READ\+\_\+\+STATE\+\_\+\+ACTIVE~13}

A read sequence has been started but has not yet completed a full message. The function \mbox{\hyperlink{connection__internal_8h_a11713347272b3554fc94c674da83fb72}{reader()}} will set the read state to ACTIVE to signify a read sequence is started. The on\+\_\+message\+\_\+complete() function will set the state to IDLE (or add the message to the input queue so that the input queue is NOT empty -\/ need to decide on this signalling mechanism) to signify another message has been received and has been added to the input list.

The readers callback should be posted with the input message and the input queue should then be empty

A precondition for moving to this state is that the inpt queue is empty.

Should not start a read while unprocessed input messages are on the input-\/queue \mbox{\Hypertarget{connection__internal_8h_a81e6b06f193d42ecfe4b361743690660}\label{connection__internal_8h_a81e6b06f193d42ecfe4b361743690660}} 
\index{connection\_internal.h@{connection\_internal.h}!READ\_STATE\_ACTIVE\_NEWMESSAGE@{READ\_STATE\_ACTIVE\_NEWMESSAGE}}
\index{READ\_STATE\_ACTIVE\_NEWMESSAGE@{READ\_STATE\_ACTIVE\_NEWMESSAGE}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{READ\_STATE\_ACTIVE\_NEWMESSAGE}{READ\_STATE\_ACTIVE\_NEWMESSAGE}}
{\footnotesize\ttfamily \#define READ\+\_\+\+STATE\+\_\+\+ACTIVE\+\_\+\+NEWMESSAGE~16}

This state indicates that a read sequence is active and that the function on\+\_\+message\+\_\+complete() has detected a new message and added it to the input queue.

This state is equivalent so READ\+\_\+\+STATE\+\_\+\+ACTIVE \&\& (is\+\_\+empty\+\_\+input\+\_\+queue != true) \mbox{\Hypertarget{connection__internal_8h_ade2c00bfd2065f4632f349e92f8f648c}\label{connection__internal_8h_ade2c00bfd2065f4632f349e92f8f648c}} 
\index{connection\_internal.h@{connection\_internal.h}!READ\_STATE\_EAGAINED@{READ\_STATE\_EAGAINED}}
\index{READ\_STATE\_EAGAINED@{READ\_STATE\_EAGAINED}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{READ\_STATE\_EAGAINED}{READ\_STATE\_EAGAINED}}
{\footnotesize\ttfamily \#define READ\+\_\+\+STATE\+\_\+\+EAGAINED~12}

A read got errno == EAGAIN and have not yet recieved a subsequent POLLIN from epoll. The errno == EAGAIN may be\+:
\begin{DoxyItemize}
\item nread $>$ 0 and errno == EAGAIN -\/ which means a partial read but there is no more
\item nread $<$ 0 and errno == EAGAIN -\/ means there was nothing to read
\item nread == 0 is reserved for when peer closes the socket
\end{DoxyItemize}

This state implies a read is in progress. As only get to this state if a read gets EAGAIN and a message did not complete.

Hence nread $>$ 0 \&\& errno == EAGAIN and message completed which is the same as input queue not empty should cause the pending read to be satisfied (via posting the read callback so that it runs later) and the state to be ACTIVE

Conditon -\/ after sending the message to the readers callback the inputqueue should be empty.

We should only have one message in the queue at a time

Hence it is illegal to issue/accept a call to \mbox{\hyperlink{async_8h_ae81243f4984043fec511b96b2c939a0d}{async\+\_\+connection\+\_\+read()}} in this state. \mbox{\Hypertarget{connection__internal_8h_a4cd41692635d29d6b918c60b939e989d}\label{connection__internal_8h_a4cd41692635d29d6b918c60b939e989d}} 
\index{connection\_internal.h@{connection\_internal.h}!READ\_STATE\_IDLE@{READ\_STATE\_IDLE}}
\index{READ\_STATE\_IDLE@{READ\_STATE\_IDLE}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{READ\_STATE\_IDLE}{READ\_STATE\_IDLE}}
{\footnotesize\ttfamily \#define READ\+\_\+\+STATE\+\_\+\+IDLE~11}

Means that there is probably data available to read (that is not definitely EAGAIN) on the socket but a read has not yet be initiated.

Input queue is empty.

It is legal to issue/accept a call to \mbox{\hyperlink{async_8h_ae81243f4984043fec511b96b2c939a0d}{async\+\_\+connection\+\_\+read()}} in this state, and such a call will initiate a new read sequence. \mbox{\Hypertarget{connection__internal_8h_acab7631f0f0b8af85ee46002065ac569}\label{connection__internal_8h_acab7631f0f0b8af85ee46002065ac569}} 
\index{connection\_internal.h@{connection\_internal.h}!READ\_STATE\_INPUT\_PENDING@{READ\_STATE\_INPUT\_PENDING}}
\index{READ\_STATE\_INPUT\_PENDING@{READ\_STATE\_INPUT\_PENDING}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{READ\_STATE\_INPUT\_PENDING}{READ\_STATE\_INPUT\_PENDING}}
{\footnotesize\ttfamily \#define READ\+\_\+\+STATE\+\_\+\+INPUT\+\_\+\+PENDING~51}

Like IDLE except that the input queue is NOT empty. It is legal to issue/accept \mbox{\hyperlink{async_8h_ae81243f4984043fec511b96b2c939a0d}{async\+\_\+connection\+\_\+read()}} and it will return (via callback) a message from the input queue.

Should never get to this state \mbox{\Hypertarget{connection__internal_8h_ab8cdc2005ae9f490a995dd81676d0a55}\label{connection__internal_8h_ab8cdc2005ae9f490a995dd81676d0a55}} 
\index{connection\_internal.h@{connection\_internal.h}!READ\_STATE\_POSTED\_READER@{READ\_STATE\_POSTED\_READER}}
\index{READ\_STATE\_POSTED\_READER@{READ\_STATE\_POSTED\_READER}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{READ\_STATE\_POSTED\_READER}{READ\_STATE\_POSTED\_READER}}
{\footnotesize\ttfamily \#define READ\+\_\+\+STATE\+\_\+\+POSTED\+\_\+\+READER~15}

\mbox{\Hypertarget{connection__internal_8h_a1cbb181b4fd70632c91f8784580c74b8}\label{connection__internal_8h_a1cbb181b4fd70632c91f8784580c74b8}} 
\index{connection\_internal.h@{connection\_internal.h}!READ\_STATE\_STOP@{READ\_STATE\_STOP}}
\index{READ\_STATE\_STOP@{READ\_STATE\_STOP}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{READ\_STATE\_STOP}{READ\_STATE\_STOP}}
{\footnotesize\ttfamily \#define READ\+\_\+\+STATE\+\_\+\+STOP~14}

Signifies the socket is no longer available. Either\+:
\begin{DoxyItemize}
\item nread == 0 -\/ the peer closed the connection or
\item nread $<$ 0 and errno != EAGAIN signifies an IO error
\item return code from http\+\_\+parser\+\_\+consume() is not HPE\+\_\+\+OK 
\end{DoxyItemize}\mbox{\Hypertarget{connection__internal_8h_a628be3c49e5a252556589975af9f1b55}\label{connection__internal_8h_a628be3c49e5a252556589975af9f1b55}} 
\index{connection\_internal.h@{connection\_internal.h}!WRITE\_STATE\_ACTIVE@{WRITE\_STATE\_ACTIVE}}
\index{WRITE\_STATE\_ACTIVE@{WRITE\_STATE\_ACTIVE}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{WRITE\_STATE\_ACTIVE}{WRITE\_STATE\_ACTIVE}}
{\footnotesize\ttfamily \#define WRITE\+\_\+\+STATE\+\_\+\+ACTIVE~23}

\mbox{\Hypertarget{connection__internal_8h_a40718e79c913b5df744e5dd4350371a4}\label{connection__internal_8h_a40718e79c913b5df744e5dd4350371a4}} 
\index{connection\_internal.h@{connection\_internal.h}!WRITE\_STATE\_EAGAINED@{WRITE\_STATE\_EAGAINED}}
\index{WRITE\_STATE\_EAGAINED@{WRITE\_STATE\_EAGAINED}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{WRITE\_STATE\_EAGAINED}{WRITE\_STATE\_EAGAINED}}
{\footnotesize\ttfamily \#define WRITE\+\_\+\+STATE\+\_\+\+EAGAINED~22}

\mbox{\Hypertarget{connection__internal_8h_a72c04c5c911a5ab6b48fcf2708349503}\label{connection__internal_8h_a72c04c5c911a5ab6b48fcf2708349503}} 
\index{connection\_internal.h@{connection\_internal.h}!WRITE\_STATE\_IDLE@{WRITE\_STATE\_IDLE}}
\index{WRITE\_STATE\_IDLE@{WRITE\_STATE\_IDLE}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{WRITE\_STATE\_IDLE}{WRITE\_STATE\_IDLE}}
{\footnotesize\ttfamily \#define WRITE\+\_\+\+STATE\+\_\+\+IDLE~21}

\mbox{\Hypertarget{connection__internal_8h_a3f8d377e7713393273e892b5d65a8b8d}\label{connection__internal_8h_a3f8d377e7713393273e892b5d65a8b8d}} 
\index{connection\_internal.h@{connection\_internal.h}!WRITE\_STATE\_STOP@{WRITE\_STATE\_STOP}}
\index{WRITE\_STATE\_STOP@{WRITE\_STATE\_STOP}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{WRITE\_STATE\_STOP}{WRITE\_STATE\_STOP}}
{\footnotesize\ttfamily \#define WRITE\+\_\+\+STATE\+\_\+\+STOP~24}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{connection__internal_8h_a1842a8830b40fe7c8cd0deb33bed2669}\label{connection__internal_8h_a1842a8830b40fe7c8cd0deb33bed2669}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_epoll\_event\_str@{async\_epoll\_event\_str}}
\index{async\_epoll\_event\_str@{async\_epoll\_event\_str}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_epoll\_event\_str()}{async\_epoll\_event\_str()}}
{\footnotesize\ttfamily const char$\ast$ async\+\_\+epoll\+\_\+event\+\_\+str (\begin{DoxyParamCaption}\item[{int}]{event }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_a6a654d588540e161f46e6d39340ac3ab}\label{connection__internal_8h_a6a654d588540e161f46e6d39340ac3ab}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_event\_handler@{async\_event\_handler}}
\index{async\_event\_handler@{async\_event\_handler}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_event\_handler()}{async\_event\_handler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} async\+\_\+event\+\_\+handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__runloop_gac8e4f0c7c845c2f0b4198dffa7e772e7}{Runloop\+Stream\+Ref}}}]{stream\+\_\+ref,  }\item[{uint64\+\_\+t}]{event }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_aa86a4faf3bc60b4916d7f8f76858c214}\label{connection__internal_8h_aa86a4faf3bc60b4916d7f8f76858c214}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_on\_read\_message\_complete@{async\_on\_read\_message\_complete}}
\index{async\_on\_read\_message\_complete@{async\_on\_read\_message\_complete}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_on\_read\_message\_complete()}{async\_on\_read\_message\_complete()}}
{\footnotesize\ttfamily llhttp\+\_\+errno\+\_\+t async\+\_\+on\+\_\+read\+\_\+message\+\_\+complete (\begin{DoxyParamCaption}\item[{http\+\_\+parser\+\_\+t $\ast$}]{parser\+\_\+ptr,  }\item[{Message\+Ref}]{msg }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_a6d075a6bc7674f520a6b97261edd8616}\label{connection__internal_8h_a6d075a6bc7674f520a6b97261edd8616}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_post\_to\_reactor@{async\_post\_to\_reactor}}
\index{async\_post\_to\_reactor@{async\_post\_to\_reactor}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_post\_to\_reactor()}{async\_post\_to\_reactor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} async\+\_\+post\+\_\+to\+\_\+reactor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{async_8h_a1271587294661ca6b7386f293ba37794}{Async\+Connection\+Ref}}}]{connection\+\_\+ref,  }\item[{\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}}($\ast$)(\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$)}]{postable\+\_\+function }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_ad8f9ff3e1ff51cd2da53d77f15c668c9}\label{connection__internal_8h_ad8f9ff3e1ff51cd2da53d77f15c668c9}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_postable\_cleanup@{async\_postable\_cleanup}}
\index{async\_postable\_cleanup@{async\_postable\_cleanup}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_postable\_cleanup()}{async\_postable\_cleanup()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} async\+\_\+postable\+\_\+cleanup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}}]{reactor,  }\item[{\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$}]{cref }\end{DoxyParamCaption})}

This must be the last async connection function to run and it should only run once. \mbox{\Hypertarget{connection__internal_8h_ad45e6cc8fdecacbc572b373040ac97cb}\label{connection__internal_8h_ad45e6cc8fdecacbc572b373040ac97cb}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_postable\_write\_call\_cb@{async\_postable\_write\_call\_cb}}
\index{async\_postable\_write\_call\_cb@{async\_postable\_write\_call\_cb}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_postable\_write\_call\_cb()}{async\_postable\_write\_call\_cb()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} async\+\_\+postable\+\_\+write\+\_\+call\+\_\+cb (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}}]{reactor\+\_\+ref,  }\item[{\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$}]{arg }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_a56e303a4e598e28b475c0a5f0229ed7d}\label{connection__internal_8h_a56e303a4e598e28b475c0a5f0229ed7d}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_postable\_writer@{async\_postable\_writer}}
\index{async\_postable\_writer@{async\_postable\_writer}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_postable\_writer()}{async\_postable\_writer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} async\+\_\+postable\+\_\+writer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}}]{reactor\+\_\+ref,  }\item[{\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$}]{arg }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_a7f97ef7d3350f57947dc0cc034cd832b}\label{connection__internal_8h_a7f97ef7d3350f57947dc0cc034cd832b}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_read\_start@{async\_read\_start}}
\index{async\_read\_start@{async\_read\_start}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_read\_start()}{async\_read\_start()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} async\+\_\+read\+\_\+start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{async_8h_a1271587294661ca6b7386f293ba37794}{Async\+Connection\+Ref}}}]{connection\+\_\+ref }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_ae990c939a6f388c5232e30a6a35e2ac1}\label{connection__internal_8h_ae990c939a6f388c5232e30a6a35e2ac1}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_read\_state\_str@{async\_read\_state\_str}}
\index{async\_read\_state\_str@{async\_read\_state\_str}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_read\_state\_str()}{async\_read\_state\_str()}}
{\footnotesize\ttfamily const char$\ast$ async\+\_\+read\+\_\+state\+\_\+str (\begin{DoxyParamCaption}\item[{int}]{state }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_a2611dde026db0ea0993459acecfa0147}\label{connection__internal_8h_a2611dde026db0ea0993459acecfa0147}} 
\index{connection\_internal.h@{connection\_internal.h}!async\_write\_state\_str@{async\_write\_state\_str}}
\index{async\_write\_state\_str@{async\_write\_state\_str}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{async\_write\_state\_str()}{async\_write\_state\_str()}}
{\footnotesize\ttfamily const char$\ast$ async\+\_\+write\+\_\+state\+\_\+str (\begin{DoxyParamCaption}\item[{int}]{state }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_ac8e0acbdf523734b3c2ff9b79307f29c}\label{connection__internal_8h_ac8e0acbdf523734b3c2ff9b79307f29c}} 
\index{connection\_internal.h@{connection\_internal.h}!read\_epollin@{read\_epollin}}
\index{read\_epollin@{read\_epollin}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{read\_epollin()}{read\_epollin()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} read\+\_\+epollin (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}}]{rl,  }\item[{\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$}]{connection\+\_\+ref\+\_\+arg }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_a11713347272b3554fc94c674da83fb72}\label{connection__internal_8h_a11713347272b3554fc94c674da83fb72}} 
\index{connection\_internal.h@{connection\_internal.h}!reader@{reader}}
\index{reader@{reader}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{reader()}{reader()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} reader (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{async_8h_a1271587294661ca6b7386f293ba37794}{Async\+Connection\+Ref}}}]{cref }\end{DoxyParamCaption})}

\mbox{\Hypertarget{connection__internal_8h_a936c6cf310f8dc79356136d6172a9b97}\label{connection__internal_8h_a936c6cf310f8dc79356136d6172a9b97}} 
\index{connection\_internal.h@{connection\_internal.h}!write\_epollout@{write\_epollout}}
\index{write\_epollout@{write\_epollout}!connection\_internal.h@{connection\_internal.h}}
\doxysubsubsection{\texorpdfstring{write\_epollout()}{write\_epollout()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} write\+\_\+epollout (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__runloop_ga3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}}]{rl,  }\item[{\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$}]{connection\+\_\+ref\+\_\+arg }\end{DoxyParamCaption})}

