\hypertarget{w__queue_8c}{}\doxysection{/home/robert/\+Projects/http\+\_\+in\+\_\+c/http\+\_\+in\+\_\+c/runloop/w\+\_\+queue.c File Reference}
\label{w__queue_8c}\index{/home/robert/Projects/http\_in\_c/http\_in\_c/runloop/w\_queue.c@{/home/robert/Projects/http\_in\_c/http\_in\_c/runloop/w\_queue.c}}
{\ttfamily \#include $<$http\+\_\+in\+\_\+c/runloop/runloop.\+h$>$}\newline
{\ttfamily \#include $<$http\+\_\+in\+\_\+c//runloop/rl\+\_\+internal.\+h$>$}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$sys/epoll.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{w__queue_8c_afb76350cb59fd4a3c52022cbee02968f}{handler}} (\mbox{\hyperlink{runloop_8h_a84676a401590989d16ead04a50ae36f2}{Runloop\+Watcher\+Ref}} watcher, uint64\+\_\+t event)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{w__queue_8c_a4765a54c206331ae3addf5f62b2059dc}{WQueue\+\_\+init}} (\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} this, \mbox{\hyperlink{runloop_8h_a3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} runloop, \mbox{\hyperlink{runloop_8h_a6ef563d6fb5ad8c3212d5f6deb16bf93}{Eventfd\+Queue\+Ref}} qref)
\item 
\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} \mbox{\hyperlink{w__queue_8c_a56c7fec79c10f053e47378e0af746bae}{runloop\+\_\+queue\+\_\+watcher\+\_\+new}} (\mbox{\hyperlink{runloop_8h_a3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} runloop, \mbox{\hyperlink{runloop_8h_a6ef563d6fb5ad8c3212d5f6deb16bf93}{Eventfd\+Queue\+Ref}} qref)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{w__queue_8c_a13e92b5c313503c1120f447e4e497226}{runloop\+\_\+queue\+\_\+watcher\+\_\+free}} (\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} this)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{w__queue_8c_a142f03ed3ec2b4163774886d00ffffdb}{runloop\+\_\+queue\+\_\+watcher\+\_\+register}} (\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} athis, \mbox{\hyperlink{runloop_8h_aed4f9ddf8cb4289162773695ea3945f2}{Postable\+Function}} postable\+\_\+cb, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$postable\+\_\+arg)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{w__queue_8c_a87c5d252395cd1f6a0b75c0f0ee70ea5}{runloop\+\_\+queue\+\_\+watcher\+\_\+change\+\_\+watch}} (\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} athis, \mbox{\hyperlink{runloop_8h_aed4f9ddf8cb4289162773695ea3945f2}{Postable\+Function}} cb, \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$arg, uint64\+\_\+t watch\+\_\+what)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{w__queue_8c_a6cfc179bb844a535709498d89688e5cd}{runloop\+\_\+queue\+\_\+watcher\+\_\+deregister}} (\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} athis)
\item 
\mbox{\hyperlink{runloop_8h_a3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} \mbox{\hyperlink{w__queue_8c_a42a8acd1d78cb765d461ad41b44de5e9}{runloop\+\_\+queue\+\_\+watcher\+\_\+get\+\_\+reactor}} (\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} athis)
\item 
int \mbox{\hyperlink{w__queue_8c_a03f713c37e03704eed588f97f9bf2f17}{runloop\+\_\+queue\+\_\+watcher\+\_\+get\+\_\+fd}} (\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} this)
\item 
\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} \mbox{\hyperlink{w__queue_8c_af82aeb592e02b8959e0d3eab671962c5}{runloop\+\_\+queue\+\_\+watcher\+\_\+verify}} (\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} r)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{w__queue_8c_afb76350cb59fd4a3c52022cbee02968f}\label{w__queue_8c_afb76350cb59fd4a3c52022cbee02968f}} 
\index{w\_queue.c@{w\_queue.c}!handler@{handler}}
\index{handler@{handler}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{handler()}{handler()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_a84676a401590989d16ead04a50ae36f2}{Runloop\+Watcher\+Ref}}}]{watcher,  }\item[{uint64\+\_\+t}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

should be posted to runloop not called\mbox{\Hypertarget{w__queue_8c_a87c5d252395cd1f6a0b75c0f0ee70ea5}\label{w__queue_8c_a87c5d252395cd1f6a0b75c0f0ee70ea5}} 
\index{w\_queue.c@{w\_queue.c}!runloop\_queue\_watcher\_change\_watch@{runloop\_queue\_watcher\_change\_watch}}
\index{runloop\_queue\_watcher\_change\_watch@{runloop\_queue\_watcher\_change\_watch}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{runloop\_queue\_watcher\_change\_watch()}{runloop\_queue\_watcher\_change\_watch()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} runloop\+\_\+queue\+\_\+watcher\+\_\+change\+\_\+watch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}}}]{athis,  }\item[{\mbox{\hyperlink{runloop_8h_aed4f9ddf8cb4289162773695ea3945f2}{Postable\+Function}}}]{cb,  }\item[{\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$}]{arg,  }\item[{uint64\+\_\+t}]{watch\+\_\+what }\end{DoxyParamCaption})}

\mbox{\Hypertarget{w__queue_8c_a6cfc179bb844a535709498d89688e5cd}\label{w__queue_8c_a6cfc179bb844a535709498d89688e5cd}} 
\index{w\_queue.c@{w\_queue.c}!runloop\_queue\_watcher\_deregister@{runloop\_queue\_watcher\_deregister}}
\index{runloop\_queue\_watcher\_deregister@{runloop\_queue\_watcher\_deregister}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{runloop\_queue\_watcher\_deregister()}{runloop\_queue\_watcher\_deregister()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} runloop\+\_\+queue\+\_\+watcher\+\_\+deregister (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}}}]{athis }\end{DoxyParamCaption})}

\mbox{\Hypertarget{w__queue_8c_a13e92b5c313503c1120f447e4e497226}\label{w__queue_8c_a13e92b5c313503c1120f447e4e497226}} 
\index{w\_queue.c@{w\_queue.c}!runloop\_queue\_watcher\_free@{runloop\_queue\_watcher\_free}}
\index{runloop\_queue\_watcher\_free@{runloop\_queue\_watcher\_free}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{runloop\_queue\_watcher\_free()}{runloop\_queue\_watcher\_free()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} runloop\+\_\+queue\+\_\+watcher\+\_\+free (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}}}]{this }\end{DoxyParamCaption})}

\mbox{\Hypertarget{w__queue_8c_a03f713c37e03704eed588f97f9bf2f17}\label{w__queue_8c_a03f713c37e03704eed588f97f9bf2f17}} 
\index{w\_queue.c@{w\_queue.c}!runloop\_queue\_watcher\_get\_fd@{runloop\_queue\_watcher\_get\_fd}}
\index{runloop\_queue\_watcher\_get\_fd@{runloop\_queue\_watcher\_get\_fd}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{runloop\_queue\_watcher\_get\_fd()}{runloop\_queue\_watcher\_get\_fd()}}
{\footnotesize\ttfamily int runloop\+\_\+queue\+\_\+watcher\+\_\+get\+\_\+fd (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}}}]{this }\end{DoxyParamCaption})}

\mbox{\Hypertarget{w__queue_8c_a42a8acd1d78cb765d461ad41b44de5e9}\label{w__queue_8c_a42a8acd1d78cb765d461ad41b44de5e9}} 
\index{w\_queue.c@{w\_queue.c}!runloop\_queue\_watcher\_get\_reactor@{runloop\_queue\_watcher\_get\_reactor}}
\index{runloop\_queue\_watcher\_get\_reactor@{runloop\_queue\_watcher\_get\_reactor}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{runloop\_queue\_watcher\_get\_reactor()}{runloop\_queue\_watcher\_get\_reactor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{runloop_8h_a3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}} runloop\+\_\+queue\+\_\+watcher\+\_\+get\+\_\+reactor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}}}]{athis }\end{DoxyParamCaption})}

\mbox{\Hypertarget{w__queue_8c_a56c7fec79c10f053e47378e0af746bae}\label{w__queue_8c_a56c7fec79c10f053e47378e0af746bae}} 
\index{w\_queue.c@{w\_queue.c}!runloop\_queue\_watcher\_new@{runloop\_queue\_watcher\_new}}
\index{runloop\_queue\_watcher\_new@{runloop\_queue\_watcher\_new}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{runloop\_queue\_watcher\_new()}{runloop\_queue\_watcher\_new()}}
{\footnotesize\ttfamily \mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}} runloop\+\_\+queue\+\_\+watcher\+\_\+new (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_a3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}}]{runloop,  }\item[{\mbox{\hyperlink{runloop_8h_a6ef563d6fb5ad8c3212d5f6deb16bf93}{Eventfd\+Queue\+Ref}}}]{qref }\end{DoxyParamCaption})}

A runloop\+\_\+queue\+\_\+watcher is the mechanism a thread uses to recieve an event whenever a new entry is added to the queue by the same or a different thread. \mbox{\Hypertarget{w__queue_8c_a142f03ed3ec2b4163774886d00ffffdb}\label{w__queue_8c_a142f03ed3ec2b4163774886d00ffffdb}} 
\index{w\_queue.c@{w\_queue.c}!runloop\_queue\_watcher\_register@{runloop\_queue\_watcher\_register}}
\index{runloop\_queue\_watcher\_register@{runloop\_queue\_watcher\_register}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{runloop\_queue\_watcher\_register()}{runloop\_queue\_watcher\_register()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} runloop\+\_\+queue\+\_\+watcher\+\_\+register (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}}}]{athis,  }\item[{\mbox{\hyperlink{runloop_8h_aed4f9ddf8cb4289162773695ea3945f2}{Postable\+Function}}}]{postable\+\_\+cb,  }\item[{\mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} $\ast$}]{postable\+\_\+arg }\end{DoxyParamCaption})}

\mbox{\Hypertarget{w__queue_8c_af82aeb592e02b8959e0d3eab671962c5}\label{w__queue_8c_af82aeb592e02b8959e0d3eab671962c5}} 
\index{w\_queue.c@{w\_queue.c}!runloop\_queue\_watcher\_verify@{runloop\_queue\_watcher\_verify}}
\index{runloop\_queue\_watcher\_verify@{runloop\_queue\_watcher\_verify}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{runloop\_queue\_watcher\_verify()}{runloop\_queue\_watcher\_verify()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} runloop\+\_\+queue\+\_\+watcher\+\_\+verify (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}}}]{r }\end{DoxyParamCaption})}

\mbox{\Hypertarget{w__queue_8c_a4765a54c206331ae3addf5f62b2059dc}\label{w__queue_8c_a4765a54c206331ae3addf5f62b2059dc}} 
\index{w\_queue.c@{w\_queue.c}!WQueue\_init@{WQueue\_init}}
\index{WQueue\_init@{WQueue\_init}!w\_queue.c@{w\_queue.c}}
\doxysubsubsection{\texorpdfstring{WQueue\_init()}{WQueue\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{rl__internal_8h_a691e4d5de4b427a20b12e6a256b5406e}{void}} WQueue\+\_\+init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{runloop_8h_ad397b19ba9cd5e9e51729c08990a02d6}{Runloop\+Queue\+Watcher\+Ref}}}]{this,  }\item[{\mbox{\hyperlink{runloop_8h_a3be36d97cf9a7f7b4180b71d95cde72e}{Runloop\+Ref}}}]{runloop,  }\item[{\mbox{\hyperlink{runloop_8h_a6ef563d6fb5ad8c3212d5f6deb16bf93}{Eventfd\+Queue\+Ref}}}]{qref }\end{DoxyParamCaption})}

